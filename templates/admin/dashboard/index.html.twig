{% extends 'admin/base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
<div class="container-fluid">
	<div class="row">
		<div class="col">
			<div class="card bg-primary text-white mb-3 text-center">
				<div class="card-body">
					<div class="row">
						<div class="col-3">
    						<i class="fas fa-users fa-3x"></i>
    					</div>
    					<div class="col-9">
    						<h4 class="card-title">{{ stats.users }} utisateurs</h4>
    					</div>
					</div>		
				</div>
			</div>
		</div>
		<div class="col">
			<div class="card bg-dark text-white mb-3 text-center">
				<div class="card-body">
					<div class="row">
						<div class="col-3">
    						<i class="fas fa-bullhorn fa-3x"></i>
    					</div>
    					<div class="col-9">
    						<h4 class="card-title">{{ stats.annonces }} annonces</h4>
    					</div>
					</div>		
				</div>
			</div>
		</div>
		<div class="col">
			<div class="card bg-success text-white mb-3 text-center">
				<div class="card-body">
					<div class="row">
						<div class="col-3">
    						<i class="fas fa-folder fa-3x"></i>
    					</div>
    					<div class="col-9">
    						<h4 class="card-title">{{ stats.achats }} Commandes</h4>
    					</div>
					</div>		
				</div>
			</div>
		</div>
		<div class="col">
			<div class="card bg-warning text-white mb-3 text-center">
				<div class="card-body">
					<div class="row">
						<div class="col-3">
    						<i class="fas fa-comments fa-3x"></i>
    					</div>
    					<div class="col-9">
    						<h4 class="card-title">{{ stats.comments }} Commentaires</h4>
    					</div>
					</div>		
				</div>
			</div>
		</div>
	</div>
	<hr>
	<div class="row">
		<div class="col">
			<div class="alert alert-success">
				<h2 class="alert-heading"><i class="fas fa-arrow-up"></i> Les meilleurs annonces</h2>
				<table class="table table-hover">
					<thead>
						<tr>
							<th>Annonce</th>
							<th>Proprio</th>
							<th>Moyenne</th>
						</tr>					
					</thead>
					<tbody>
						{% for annonce in bestAnnonces %}
						<tr>
							<td>{{ annonce.title }}</td>
							<td>
								{{ annonce.firstName }} {{ annonce.lastName }}
							</td>
							<td class="text-center">
							    <span class="badge badge-dark">{{ annonce.note | number_format(1,",", " ")}}</span>
							</td>
						</tr>
						{% endfor %}
					</tbody>				
				</table>
			</div>
		</div>
		<div class="col">
			<div class="alert alert-danger">
				<h2 class="alert-heading"><i class="fas fa-arrow-down"></i> Les pires annonces</h2>
				<table class="table table-hover">
					<thead>
						<tr>
							<th>Annonce</th>
							<th>Proprio</th>
							<th>Moyenne</th>
						</tr>					
					</thead>
					<tbody>
						{% for annonce in badAnnonces %}
						<tr>
							<td>{{ annonce.title }}</td>
							<td>
								{{ annonce.firstName }} {{ annonce.lastName }}
							</td>
							<td class="text-center">
							    <span class="badge badge-dark">{{ annonce.note | number_format(1,",", " ")}}</span>
							</td>
						</tr>
						{% endfor %}
					</tbody>				
				</table>
			</div>
		</div>
	</div>
</div>
{% endblock %}
